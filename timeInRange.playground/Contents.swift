import UIKit

var greeting = "Hello, playground"

let glucoseData: [Double] = [115,116,116,116,113,115,114,113,113,117,118,118,118,117,117,117,116,117,118,118,119,119,119,120,120,121,122,122,121,119,120,120,120,119,118,120,121,122,122,121,122,122,122,122,122,121,120,121,121,120,120,121,121,122,123,119,121,122,123,125,124,124,123,122,121,121,121,122,122,122,123,120,121,119,118,117,117,116,117,116,115,115,115,116,117,117,116,117,118,110,102,97,94,95,97,103,109,113,118,120,120,117,112,107,105,101,100,97,99,99,99,101,102,102,103,103,103,106,108,109,112,111,112,114,113,113,112,114,118,121,121,121,120,122,126,131,137,141,143,139,136,133,127,121,106,105,110,112,114,106,103,102,104,109,111,110,107,104,107,112,118,122,125,126,125,123,121,119,118,117,118,120,123,125,130,135,139,139,134,130,127,122,119,117,116,114,110,105,102,101,100,99,99,101,102,103,105,106,106,107,103,101,98,98,101,113,133,144,140,133,119,110,115,129,145,144,141,141,142,142,140,137,135,132,129,125,119,114,111,114,120,128,133,133,134,135,135,131,125,118,115,116,118,118,119,118,118,118,118,119,117,116,116,116,115,115,114,113,113,116,117,118,117,114,112,110,110,111,111,111,112,115,116,117,116,118,119,119,118,117,117,118,117,116,115,115,113,112]

func calcTimeInRange(glucoseData: [Double], upper: Double) -> Int {
    // This function calculates how much time user blood glucose spent in range
    // time is returned as a Int percentage value
    var valuesInRange = 0
    let totalValues = glucoseData.count

    for value in glucoseData {
        if value < upper {
            valuesInRange += 1
        }
    }
    
    let ratio: Double = Double(valuesInRange) / Double(totalValues)
    let timeInRange = Int(ratio * Double(100))
    return timeInRange
}

let timeInRange = calcTimeInRange(glucoseData: glucoseData, upper: 140)

print("\(timeInRange) % of your day was spent in your ideal range. Good job!")
