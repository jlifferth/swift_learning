import UIKit

var greeting = "Hello, playground"
print(greeting)

let prediction = [137.931867638806,132.95597865766962,132.95597865766962,129.0792323870707,118.82121668652346,125.07698242339313,129.98930797217923,132.9339311438011,133.74907008861507,135.61232367272652,136.4195736364041,136.03827601356835,132.13283944591862,133.1751649947047,132.88386737186892,132.88386737186892,132.0529150310271,130.30401396977732,130.64896631061916,130.16352974296944,129.26190657134754,128.68976762653358,128.86406524936933,131.31002967032458,131.67573204748882,132.61468438833063,132.7024977843585,132.30079540719424,134.09855752363012,132.29505759627494,132.04143442465306,131.42099785700333,131.42099785700333,131.06648208381125,129.17409317531968,130.20085891218937,130.28867230821723,129.56134675943113,129.56134675943113,131.27810887586693,131.85135883954453,132.21706121670877,133.17620016152273,130.72508094991662,131.85135883954453,132.12924782068092,133.00057336946702,135.44822808747307,133.6346525750094,135.52458544958046,133.00057336946702,131.50881125303118,129.8662357405675,127.1246760012959,128.4449259649735,129.03481132567603,131.08637468538146,131.59662464905904,133.26401355755058,130.81422351516443,131.54154906395053,129.42583460667288,128.60388226583103,121.9049299249892,121.40367996131164,117.13985071944687,122.67155309661106,117.58710068312445,116.0423983059602,120.63183487360993,120.7196482696378,125.9597835940179,129.18529936721,130.314109142804,127.80859336961194,131.829918918398,137.22605786321196,110.3856963410227,97.78796161088913,93.56145349079145,91.50465982797144,91.81636220513568,92.79920352711386,103.13734313322333,120.59448273933282,128.4422213568373,141.66241238782843,143.11106710583448,143.64100736656292,138.64246395799978,125.70464265980875,111.91313468500073,102.48023376904054,96.02361825051308,94.97010609775484,95.3628793424293,98.16522044647303,102.01465686883307,102.46159698427181,104.93124793655436,106.67282344901805,111.45669296388368,111.55489179325889,112.48382481311964,113.34319802106393,120.10048813609492,121.85051606204529,128.4412148187757,131.7558218776236,130.9406829328096,131.7558218776236,131.51141685635804,129.12021817227247,127.64478160462272,120.1331463528874,125.79486081016508,135.56298002177118,137.0039639089972,137.58402726870264,138.04984066473048,137.95657847564985,138.49216983395044,134.89479273863523,140.83080455181158,152.07782482466746,154.74438060392328,158.70728166517313,150.9974795426735,149.2295700217441,135.43666053713721,125.21595746235506,115.72837752287236,81.51760681933558,80.29984093717627,91.26809894830674,101.54375352102309,111.17653119271654,100.0082926242146,102.85105109657437,102.44009513529869,101.16374999859443,113.03213139928121,114.41565577744254,117.51512899765928,116.27982092574871,112.47702726292871,114.3096379422104,121.4707766200873,140.19136394572735,143.10884912441009,148.19613547371762,149.76777072545286,148.14894886974545,140.55255512200813,129.34528461853756,123.76844706228286,117.08455822643612,109.94954252588882,117.08455822643612,124.15677623150283,132.6809465774113,136.80335118645013,143.49092266625325,153.2023673540006,152.94667316957884,152.07917324222365,143.75704202314904,137.66248631653798,130.54957324781958,119.97016800375897,114.97653258046033,113.48588148288812,111.76136556440636,105.66046073743308,99.96628164126565,96.30883673558378,94.80698318820251,94.07171737868799,92.41194802138448,94.25042862775857,96.13573471027391,101.76112845801117,107.14413691769077,109.92508563809874,113.17698669934853,115.84993541975649,115.89468183564509,117.75688066502033,114.90844813003119,112.69592027672567,108.39981691095647,107.17856694727888,110.3439837817208,130.18384134389436,153.55617990680037,166.43439483108122,158.44277554683023,153.33761632916043,143.84436139881575,113.8506854797212,97.78639526668496,109.23891145787775,141.34894065741656,149.4596576861507,155.1204929868885,158.76118284807032,159.03050687519277,152.53734228440308,136.09072572826807,139.04205168928092,138.7411959582122,120.20995855951954,121.57617213756724,121.30300390270139,111.43775770556273,104.59685928841432,102.81387540118828,109.79660193857936,124.22280870644008,128.35591653555076,141.24510387346322,150.32684652362832,155.9956683793357,155.3565574331169,152.90949783913499,136.49069593456989,124.69479905127034,114.30175945743329,101.87346586725809,106.75060843250591,117.92576669830098,122.21777013712276,129.3268454679744,134.2317624967085,139.92488559568557,138.40226242406368,134.53338928876423,134.2052746494668,123.94867981602196,119.64728366666276,120.46384347857918,119.78665687460705,116.37514472184878,114.42270815419906,114.01825574071239,115.04973996752028,115.04973996752028,126.0901568019622,131.60273231442588,137.0866846552677,132.57635548604776,119.98956182322775,116.68528393359982,110.3856963410227,109.6504463773451,107.26214875450934,111.32277192613122,115.74226823305254,117.62728031316595,130.0550104709909,132.59596281183275,134.7774785850248,131.822526244183,140.19136394572735,137.2764395308359,135.38350303583096,133.05692752336722,126.8491654069314,128.35160197458111,127.14286778409566]

print(prediction[...2])

func booleanizePrediction(prediction: [Double], upper: Double) -> Bool {
    // this function determines if any prediction values excede the upper healthy blood glucose range
    // default alert value is false
    var alert: Bool = false
    
    // only examine the final 30 minutes of predictions (6 x 5 minute intervals)
    let recent = prediction[...5]
    print("recent: \(recent)")
    
    for val in recent {
        if val >= upper {
            alert = true
        }
    }
    
    print("alert: \(alert)")
    return alert
}

booleanizePrediction(prediction: prediction, upper: 140)
